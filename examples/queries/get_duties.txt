PREFIX odrl: <http://www.w3.org/ns/odrl/2/>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX tosl: <http://www.w3.org/tosl/>

SELECT DISTINCT ?permission ?duty ?action ?target ?assignee 
WHERE {
  # Encontrar permisos y sus obligaciones (directas o desencadenadas)
  ?permission a odrl:Permission .

  {
    ?permission odrl:duty ?duty .
  }
  UNION
  {
    ?permission tosl:triggers ?duty .
  }

  # Detalles de la obligaci√≥n
  ?duty a odrl:Duty ;
        odrl:action ?action ;
        odrl:target ?target ;
        odrl:assignee ?assignee .
}
