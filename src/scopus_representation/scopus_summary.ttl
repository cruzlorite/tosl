@prefix odrl: <http://www.w3.org/ns/odrl/2/> .
@prefix tosl: <http://w3id.org/tosl/> .
@prefix ex: <http://example.org/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema> .
@prefix dcterms: <http://purl.org/dc/terms/> .

# Agreement definition, faltan cosas, cliente/proveedor, fecha publicación, servicio a los que afecta...
ex:Elsevier_Service_Agreement a odrl:Agreement;
    odrl:obligation ex:obligation01;
    odrl:hasPermission ex:permission01;
    odrl:hasPermission ex:permission02;
    odrl:hasPermission ex:permission03;
    odrl:hasPermission ex:permission04;
    odrl:hasPermission ex:permission05;
    odrl:hasPermission ex:permission06;
    odrl:hasPermission ex:permission07;
    odrl:hasPermission ex:permission08;
    odrl:hasPermission ex:permission09;
    odrl:hasPermission ex:permission10;
    odrl:hasPermission ex:permission11;
    odrl:hasProhibition ex:prohibition01;
    odrl:hasProhibition ex:prohibition02; 
    odrl:hasProhibition ex:prohibition03;
    tosl:litigation tosl:litigation01.


################################################## 1.1

ex:obligation01 a odrl:duty;
    dcterms:description "1.1 The application programmable interfaces service (the \"API Service\") owned and operated by Elsevier B.V. (\"Elsevier\") is provided to (\"You\", \"Your\" or \"the Developer\") under the terms and conditions of this API Service Agreement. You confirm that You have the right and authority to enter into this Agreement. You accept and agree to the terms and conditions of this Agreement on Your own behalf and/or on behalf of Your company, institute or organization as its authorized legal representative.";
    odrl:action tosl:comply;
    odrl:target ex:elsevierApiServiceAgreement;
    odrl:assignee ex:customer01;
    ex:duty01 a odrl:duty [  
        odrl:action tosl:consent;
        odrl:constraint [
            odrl:leftOperand tosl:consentType;
            odrl:operator odrl:eq;
            odrl:rightOperand tosl:consentExplicitly
        ];
        odrl:target ex:elsevierApiServiceAgreement;
        odrl:assignee ex:customer01
    ].   

ex:permission01 a odrl:permission;
    dcterms:description "1.1 The application programmable interfaces service (the \"API Service\") owned and operated by Elsevier B.V. (\"Elsevier\") is provided to (\"You\", \"Your\" or \"the Developer\") under the terms and conditions of this API Service Agreement. You confirm that You have the right and authority to enter into this Agreement. You accept and agree to the terms and conditions of this Agreement on Your own behalf and/or on behalf of Your company, institute or organization as its authorized legal representative.";
    odrl:action odrl:use;
    odrl:target ex:elsevierApiService;
    odrl:assignee ex:customer01;
    odrl:duty ex:duty01.
    

################################################## 1.2

ex:permission02 a odrl:Permission;
    dcterms:description "1.2 Elsevier reserves the right, at its sole discretion, to change the terms of this Agreement at any time with reasonable advance notice given to the Developer. Elsevier will make a new copy of the Agreement available on the API Service's web site. Elsevier will also post a notification on the API Service's web site describing the modifications made.";
    odrl:action odrl:modify;
    odrl:target ex:elsevierApiServiceAgreement;
    odrl:assignee ex:elsevier;
    odrl:duty [
        odrl:action odrl:inform;
        odrl:target ex:elsevierApiServiceAgreement;
        odrl:assignee ex:elsevier;
        odrl:constraint [
            odrl:leftOperand odrl:event;
            odrl:operator odrl:lt;
            odrl:rightOperand odrl:policyUsage;
        ]
    ];
    tosl:cause ex:duty20 a odrl:duty [
        dcterms:description "Elsevier will make a new copy of the Agreement available on the API Service's web site."
        odrl:action tosl:publish;
        odrl:target ex:elsevierApiServiceAgreementV2;
        odrl:assignee ex:elsevier;
        odrl:constraint [
            odrl:leftOperand odrl:virtualLocation;
            odrl:operator odrl:eq;
            odrl:rightOperand ex:"https://dev.elsevier.com/"
        ]
    ];
    tosl:cause ex:duty21 a odrl:duty [
        dcterms:description "Elsevier will also post a notification on the API Service's web site describing the modifications made."
        odrl:action tosl:publish;
        odrl:target ex:modificationsServiceAgreementV1V2;
        odrl:constraint [
            odrl:leftOperand odrl:virtualLocation;
            odrl:operator odrl:eq;
            odrl:rightOperand ex:"https://dev.elsevier.com/"
        ];
    ].

################################################## 1.3 

¿Es una obligación el notificar?

ex:permission03 a odrl:Permission;
    dcterms:description "1.3 Elsevier grants You a limited license to use the, application programmable interfaces ("APIs"), data, files and other materials provided by Elsevier, to develop and test Your software application ("Application") and to integrate the Application with the API, subject to the usage restrictions as set forth in the API's Content Usage Policies on http://dev.elsevier.com/policy.html. All notices given pursuant to     this Agreement shall be in writing and delivered to email address as indicated in the developer portal at dev.elsevier.com.";
    odrl:action odrl:use, tosl:integrate ;
        odrl:refinement odrl:constraint [
            odrl:leftOperand tosl:contentUsageCompliance;
            odrl:operator odrl:eq;
            odrl:rightOperand "http://dev.elsevier.com/policy.html"^^xsd:string;
        ]; 
    odrl:target ex:elsevierApiService;
    odrl:assigner ex:customer01;
    odrl:duty [
        dcterms:description "All notices given pursuant to this Agreement shall be in writing and delivered to email address as indicated in the developer portal at dev.elsevier.com.";
        odrl:action odrl:inform;
        odrl:target ex:elsevierApiServiceAgreement;
        odrl:assigner ex:customer01;
        odrl:informedParty ex:elsevier;
        odrl:constraint [
            odrl:leftOperand odrl:deliveryChannel;
            odrl:operator odrl:eq;
            odrl:rightOperand "email"^^xsd:string;
        ];
    ].

################################################## 2.1

ex:permission04 a odrl:Permission;
    dcterms:description "2.1 After You have accepted this Agreement, Elsevier will issue an API Key to You for use with the API Service. Elsevier retains the right to immediately suspend the Application's access to the API Service if, in Elsevier's sole judgment: the Application's usage of the API Service negatively affects the availability or performance of the API Service, or the Application is in breach of the API's Content Usage Policies on http://dev.elsevier.com/policy.html";
    odrl:action tosl:terminate;
        odrl:refinement odrl:logicalConstraint [
            odrl:or ( 
                odrl:constraint [
                    odrl:leftOperand tosl:requiresJustification;
                    odrl:operator odrl:eq;
                    odrl:rightOperand "true"^^xsd:boolean
                ],
                odrl:constraint [
                    odrl:leftOperand tosl:contentUsageCompliance;
                    odrl:operator odrl:not;
                    odrl:rightOperand "http://dev.elsevier.com/policy.html"^^xsd:string;
                ]
            )
        ]
    odrl:target ex:elseviesApiService;
    odrl:assignee ex:elsevier.

################################################## 2.2

ex:permission05 a odrl:Permission;
    dcterms:description "2.2 In a situation of breach of the terms and conditions of this Agreement, Elsevier reserves the right to block, change, suspend, remove or disable access to the APIs and any of its services at any time upon reasonable notice to Developer.";
    odrl:action tosl:block, tosl:modify, tosl:suspend, tosl:remove, tosl:disable;
        odrl:refinement [
            odrl:constraint [
                    odrl:leftOperand tosl:contentUsageCompliance;
                    odrl:operator odrl:not;
                    odrl:rightOperand "http://dev.elsevier.com/policy.html"^^xsd:string;
                ]
        ];
    odrl:target ex:elsevierApiService;
    odrl:assignee ex:elsevier;
    odrl:duty [
        odrl:action odrl:inform;
        odrl:target ex:elsevierApiService;
        odrl:assignee ex:elsevier;
        odrl:constraint [
            odrl:leftOperand odrl:event;
            odrl:operator odrl:lt;
            odrl:rightOperand odrl:policyUsage;
        ]
    ].

################################################## 2.3 No me deja poner duration en protegé

ex:permission06 a odrl:Permission;
    dcterms:description "2.3 Elsevier reserves the right to deactivate API Keys that have not been used to access the APIs for 90 days.";
    odrl:action tosl:disable;
    odrl:target ex:apiKey;
    odrl:assignee ex:elsevier;
    odrl:duty [
        odrl:action odrl:use;
        odrl:target ex:apiKey;
        odrl:assignee ex:customer01;
        odrl:constraint [
            odrl:leftOperand odrl:delayPeriod;
            odrl:operator odrl:gt;
            odrl:rightOperand "P90D"^^xsd:duration;
        ]
    ].

################################################## 3.1.1

# TENGO DUDAS, ¿sería así la constraint?

ex:prohibition01 a odrl:prohibition;
    decterms:description "3.1.1 the Application will not use Elsevier content other than allowed by the API's Content Usage Policies on http://dev.elsevier.com/policy.html;";
    odrl:action odrl:use;
        odrl:refinement [
            odrl:constraint [
                odrl:leftOperand tosl:contentUsageCompliance;
                odrl:operator odrl:not eq;
                odrl:rightOperand "http://dev.elsevier.com/policy.html"^^xsd:string;
            ];
        ]
    odrl:target ex:elsevierApiService;
    odrl:assignee ex:customer01.


################################################## 3.1.2

# TENGO DUDAS, ¿sería así la constraint o refinement?

ex:permission07 a odrl:Permission;
    dcterms:description "3.1.2 the Application will use the API Key issued by Elsevier upon execution of this Agreement, and no other API Key issued for use by other applications and/or to other developers;"
    odrl:action odrl:use;
        odrl:refinement [
            odrl:constraint [
                odrl:leftOperand odrl:Recipient;
                odrl:operator odrl:eq;
                odrl:rightOperand "allowedApiKey"^^xsd:string;
            ];
        ]    
    odrl:target ex:elsevierApiKey;
    odrl:assignee ex:customer01.

################################################## 3.1.3

ex:prohibition02 a odrl:prohibition;
    dcterms:description "3.1.3 the Application will avoid excessive and unnecessary use of the API Service that may cause a performance degradation of the API Service";
    odrl:action odrl:use;
        odrl:refinement [
            odrl:constraint [
                odrl:leftOperand tosl:causes;
                odrl:operator odrl:eq;
                odrl:rightOperand "performanceDegradation"^^xsd:string;
            ];
        ] 
    odrl:target ex:elsevierApiService;
    odrl:assignee ex:customer01.

################################################## 3.1.4

# TENGO DUDAS, ¿sería así?

ex:prohibition03 a odrl:prohibition;
    decterms:description "3.1.4 the Developer acknowledges that all right, title and interest in and to the Elsevier content, and any derivative works based upon the Elsevier content, remain with Elsevier and its suppliers, except as expressly set forth in this Agreement, and that the unauthorized redistribution of the Elsevier content is not permitted.";
    odrl:action odrl:distribute;
    odrl:target ex:elsevierContent;
    odrl:assignee ex:customer01.

################################################## 3.2

3.2 The Developer will be solely responsible and hold Elsevier harmless for all costs, expenses, losses and liabilities incurred, and activities undertaken by the Developer in connection with the API Service.

ex:elsevier a odrl:Party ;
    tosl:LimitationOfLiability tosl:allLiabilities .

################################################## 3.3

ex:trademarks a odrl:Asset;
odrl:partof ex:collection01.

ex:logos a odrl:Asset; 
odrl:partof ex:collection01.

ex:brandFeatures a odrl:Asset;
odrl:partof ex:collection01.

ex:permission08 a odrl:Permission;
    dcterms:description "3.3 Developer shall obtain written permission in advance from Elsevier to use Elsevier's trademarks, logos or other brand features for promoting the Developer's Application. Any press releases regarding this Agreement or the relationship of the parties shall require the prior approval of the parties.";
    odrl:action odrl:use;
    odrl:target ex:collection01; (a odrl:AssetCollection)
    odrl:assignee ex:customer01;
    odrl:duty [
        dcterms:description "Developer shall obtain written permission in advance from Elsevier";
        odrl:action odrl:license;
            odrl:constraint [
                odrl:leftOperand tosl:licensingType;
                odrl:operator odrl:eq;
                odrl:rightOperand tosl:writtenPermission;
            ];
        odrl:target ex:collection01;
        odrl:assignee ex:elsevier;
    ].

################################################## 3.4

# TENGO DUDAS, ¿podría ser así?

ex:permission09 a odrl:Permission;
    dcterms:description "3.4 The Developer shall not display any advertising inside the Application or use any content as obtained via the API outside the Application, unless permitted by Elsevier in writing.";
    odrl:action odrl:display;
        odrl:refinement [
            odrl:constraint [
                odrl:leftOperand odrl:media;
                odrl:operator odrl:eq;
                odrl:rightOperand "advertising"^^xsd:string;
            ];
        ]
    odrl:target ex:application; 
    odrl:assignee ex:customer01;
    odrl:duty [
        odrl:action odrl:license;
            odrl:constraint [
                odrl:leftOperand tosl:licensingType;
                odrl:operator odrl:eq;
                odrl:rightOperand tosl:writtenPermission;
            ];
        odrl:assignee ex:elsevier;
    ].

################################################## 4

The API service is provided on an "as is" and "as available" basis without warranties of any kind, either express or implied, including but not limited to warranties of merchantability or fitness for a particular purpose. Except as expressly stated in this Agreement, each party disclaims all liability to the     other party in connection with the parties' performance of this Agreement and in no event will the infringing party be liable to the other party for special, indirect or consequential damages including but not limited to loss of profits, loss of business or unfitness for user purposes.

ex:customer01 a odrl:Party ;
    tosl:LimitationOfLiability tosl:allLiabilities .

ex:elsevier a odrl:Party ;
    tosl:LimitationOfLiability tosl:allLiabilities .

################################################## 5
The term of this Agreement shall commence on the date on which the Developer has accepted this Agreement and shall continue until either party terminates the Agreement in writing or the API Key is deactivated by Elsevier.

ex:permission10 a odrl:Permission;
    dcterms:description "The term of this Agreement shall commence on the date on which the Developer has accepted this Agreement and shall continue until either party terminates the Agreement in writing or the API Key is deactivated by Elsevier.";
    odrl:action tosl:terminate;
    odrl:target ex:Elsevier_Service_Agreement; 
    odrl:assignee ex:customer01.

ex:permission11 a odrl:Permission;
    dcterms:description "The term of this Agreement shall commence on the date on which the Developer has accepted this Agreement and shall continue until either party terminates the Agreement in writing or the API Key is deactivated by Elsevier.";
    odrl:action tosl:terminate;
    odrl:target ex:Elsevier_Service_Agreement; 
    odrl:assignee ex:elsevier.

################################################## 6

ex:litigation01 a tosl:litigation;
    dcterms:description "This Agreement will be governed by and construed in accordance with the laws of The Netherlands, and the parties irrevocably consent to the exclusive jurisdiction of the courts of The Netherlands with respect to any action or suit arising out of or pertaining to this Agreement (except where local law requires).";
    tosl:takesPlaceIn ex:netherlandsCourts;
    tosl:governedBy ex:netherlandsLaw.


# comment: except where local law requires. How can we model this?
